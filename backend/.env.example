PORT=3000
DATABASE_URL="file:./dev.db"
CAMERA_IP=192.168.8.210
CAMERA_USER=admin
CAMERA_PASS=galgo2526
CAMERA_PORT=554
MQTT_BROKER_URL=mqtt://localhost:1883

# ═══════════════════════════════════════════════════════════════════════════
# CONFIGURACIÓN MQTT (Broker y Credenciales)
# ═══════════════════════════════════════════════════════════════════════════

# Conexión al broker MQTT
MQTT_BROKER=mqtt://localhost:1883
MQTT_USERNAME=admin
MQTT_PASSWORD=your_secure_password_here
MQTT_CLIENT_ID=camera_rtsp_server

# WebSocket URL para frontend (EMQX)
MQTT_WS_URL=ws://localhost:8083/mqtt

# Configuración de reconexión (Exponential Backoff)
MQTT_RECONNECT_BASE_DELAY=1000
MQTT_RECONNECT_MAX_DELAY=60000
MQTT_RECONNECT_MAX_RETRIES=10
MQTT_RECONNECT_MULTIPLIER=2

# ═══════════════════════════════════════════════════════════════════════════
# CONFIGURACIÓN DE BACKUP/REPLICACIÓN (TrueNAS / Servidor Externo)
# ═══════════════════════════════════════════════════════════════════════════

# Habilitar replicación
REPLICATION_ENABLED=false

# Conexión al servidor remoto (TrueNAS u otro)
REPLICATION_HOST=truenas.local
REPLICATION_PORT=22
REPLICATION_USER=backup_user
REPLICATION_PASSWORD=
REPLICATION_PATH=/mnt/pool/videos
REPLICATION_SSH_KEY=/path/to/private/key

# Motor de transferencia: 'rclone' (recomendado) o 'rsync'
REPLICATION_ENGINE=rclone

# Nombre del remote en rclone (se crea automáticamente si no existe)
REPLICATION_RCLONE_REMOTE=truenas

# Opciones de transferencia
REPLICATION_TRANSFERS=4
REPLICATION_CHECKERS=8
REPLICATION_RETRIES=10
REPLICATION_RETRY_SLEEP=30
REPLICATION_TIMEOUT=300

# Verificación de integridad con SHA256 tras transferencia
REPLICATION_VERIFY_HASH=true

# Umbrales de espacio remoto (pausar si se supera)
REPLICATION_REMOTE_MAX_USE_PERCENT=85
REPLICATION_REMOTE_CRITICAL_PERCENT=95

# Backoff exponencial (segundos base para reintentos)
REPLICATION_BACKOFF_BASE=2
REPLICATION_BACKOFF_MAX=300

# Configuración de mock para pruebas (cuando no hay servidor remoto)
REPLICATION_USE_MOCK=true
REPLICATION_MOCK_CAPACITY_TB=6
